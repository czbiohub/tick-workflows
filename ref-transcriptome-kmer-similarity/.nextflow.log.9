Jun-07 16:48:53.410 [main] DEBUG nextflow.cli.Launcher - $> nextflow run czbiohub/nf-kmer-similarity -latest -r olgabot/fix-fasta --fastas 's3://tick-genome/rna/pacbio-isoseq/2018-06-07/fake_genome_and_transcriptome/*.fake_ref_transcriptome.fasta' --one_signature_per_record --outdir 's3://tick-genome/rna/pacbio-isoseq/2018-06-07/fake_genome_and_transcriptome/transcriptome_kmer_similarity/' -work-dir 's3://tick-genome/nextflow-intermediates/' -profile czbiohub_aws -e.process.executor=awsbatch
Jun-07 16:48:53.592 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 19.03.0-edge
Jun-07 16:48:54.570 [main] DEBUG nextflow.scm.AssetManager - Git config: /Users/olgabot/.nextflow/assets/czbiohub/nf-kmer-similarity/.git/config; branch: master; remote: origin; url: https://github.com/czbiohub/nf-kmer-similarity.git
Jun-07 16:48:54.582 [main] DEBUG nextflow.scm.AssetManager - Git config: /Users/olgabot/.nextflow/assets/czbiohub/nf-kmer-similarity/.git/config; branch: master; remote: origin; url: https://github.com/czbiohub/nf-kmer-similarity.git
Jun-07 16:48:54.583 [main] INFO  nextflow.cli.CmdRun - Pulling czbiohub/nf-kmer-similarity ...
Jun-07 16:48:54.583 [main] DEBUG nextflow.scm.AssetManager - Pull pipeline czbiohub/nf-kmer-similarity  -- Using local path: /Users/olgabot/.nextflow/assets/czbiohub/nf-kmer-similarity
Jun-07 16:48:55.802 [main] DEBUG nextflow.scm.AssetManager - Git config: /Users/olgabot/.nextflow/assets/czbiohub/nf-kmer-similarity/.git/config; branch: master; remote: origin; url: https://github.com/czbiohub/nf-kmer-similarity.git
Jun-07 16:48:55.803 [main] INFO  nextflow.cli.CmdRun - Launching `czbiohub/nf-kmer-similarity` [mighty_solvay] - revision: 6f3be85847 [olgabot/fix-fasta]
Jun-07 16:48:55.817 [main] DEBUG nextflow.config.ConfigBuilder - Found config home: /Users/olgabot/.nextflow/config
Jun-07 16:48:55.818 [main] DEBUG nextflow.config.ConfigBuilder - Found config base: /Users/olgabot/.nextflow/assets/czbiohub/nf-kmer-similarity/nextflow.config
Jun-07 16:48:55.819 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /Users/olgabot/.nextflow/config
Jun-07 16:48:55.819 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /Users/olgabot/.nextflow/assets/czbiohub/nf-kmer-similarity/nextflow.config
Jun-07 16:48:55.819 [main] DEBUG nextflow.config.ConfigBuilder - Adding following variables to session environment: [process.executor:awsbatch]
Jun-07 16:48:55.833 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `czbiohub_aws`
Jun-07 16:48:55.878 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `czbiohub_aws`
Jun-07 16:48:56.856 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [czbiohub_aws, hebbe, cfc, uppmax_devel, uzh, test, bigpurple, crick, uppmax, local, docker, gis, phoenix, shh, ccga, mendel, uct_hex, aws, munin, binac, prince]
Jun-07 16:48:56.914 [main] DEBUG nextflow.Session - Session uuid: 1813da59-6644-4ae4-b4dd-3862d2b41a5f
Jun-07 16:48:56.914 [main] DEBUG nextflow.Session - Run name: mighty_solvay
Jun-07 16:48:56.915 [main] DEBUG nextflow.Session - Executor pool size: 8
Jun-07 16:48:56.936 [main] DEBUG nextflow.file.FileHelper - Creating a file system instance for provider: S3FileSystemProvider
Jun-07 16:48:56.944 [main] DEBUG nextflow.Global - Using AWS credential defined in `default` section in file: /Users/olgabot/.aws/credentials
Jun-07 16:48:56.949 [main] DEBUG nextflow.file.FileHelper - AWS S3 config details: {secret_key=Zl6hSJ.., signer_override=S3SignerType, max_connections=20, upload_storage_class=INTELLIGENT_TIERING, storage_encryption=AES256, access_key=AKIAI2.., region=us-west-2, connection_timeout=10000}
Jun-07 16:49:07.473 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 19.03.0-edge build 5061
  Modified: 14-03-2019 17:26 UTC (10:26 PDT)
  System: Mac OS X 10.14.4
  Runtime: Groovy 2.5.6 on Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11
  Encoding: UTF-8 (UTF-8)
  Process: 20941@Olgas-MacBook-Pro.local [192.168.101.150]
  CPUs: 8 - Mem: 16 GB (229.6 MB) - Swap: 4 GB (389.5 MB)
Jun-07 16:49:08.058 [main] DEBUG nextflow.Session - Work-dir: s3://tick-genome/nextflow-intermediates [Mac OS X]
Jun-07 16:49:08.059 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /Users/olgabot/.nextflow/assets/czbiohub/nf-kmer-similarity/bin
Jun-07 16:49:08.285 [main] DEBUG nextflow.Session - Session start invoked
Jun-07 16:49:08.290 [main] DEBUG nextflow.processor.TaskDispatcher - Dispatcher > start
Jun-07 16:49:08.292 [main] DEBUG nextflow.trace.TraceFileObserver - Flow starting -- trace file: /Users/olgabot/code/tick-workflows/kmer-similarity/trace.txt
Jun-07 16:49:08.303 [main] DEBUG nextflow.script.ScriptRunner - > Script parsing
Jun-07 16:49:08.794 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jun-07 16:49:08.796 [main] WARN  nextflow.script.ScriptBinding - Access to undefined parameter `help` -- Initialise it to a default value eg. `params.help = some_value`
Jun-07 16:49:08.947 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: /tick-genome/rna/pacbio-isoseq/2018-06-07/fake_genome_and_transcriptome/; pattern: *.fake_ref_transcriptome.fasta; options: [:]
Jun-07 16:49:08.949 [PathVisitor-1] DEBUG nextflow.file.FileHelper - Path matcher not defined by 'S3FileSystem' file system -- using default default strategy
Jun-07 16:49:09.042 [main] INFO  nextflow.Nextflow - ==================================================================
      _                            _       _ _         _ _
     | |_ ___ _____ ___ ___    ___|_|_____|_| |___ ___|_| |_ _ _
     | '_|___|     | -_|  _|  |_ -| |     | | | .'|  _| |  _| | |
     |_,_|   |_|_|_|___|_|    |___|_|_|_|_|_|_|__,|_| |_|_| |_  |
                                                            |___|

czbiohub/nf-kmer-similarity vnull"
==================================================================
Jun-07 16:49:09.049 [main] INFO  nextflow.Nextflow - Pipeline Name  : czbiohub/nf-kmer-similarity
Pipeline Version: null
Run Name       : mighty_solvay
Read Pairs     : false
Input fastas   : s3://tick-genome/rna/pacbio-isoseq/2018-06-07/fake_genome_and_transcriptome/*.fake_ref_transcriptome.fasta
SRA/ENA IDs    : false
Molecules      : dna,protein
K-mer sizes    : 21,27,33,51
Log2 sketch sizes: 10,12,14,16
Make one signature per record?: true
Max Memory     : 1.9 TB
Max CPUs       : 96
Max Time       : 10d
Output dir     : s3://tick-genome/rna/pacbio-isoseq/2018-06-07/fake_genome_and_transcriptome/transcriptome_kmer_similarity/
Working dir    : /tick-genome/nextflow-intermediates
Container Engine: docker
Container      : czbiohub/nf-kmer-similarity:dev
Current home   : /Users/olgabot
Current user   : olgabot
Current path   : /Users/olgabot/code/tick-workflows/kmer-similarity
Script dir     : /Users/olgabot/.nextflow/assets/czbiohub/nf-kmer-similarity
Config Profile : czbiohub_aws
Jun-07 16:49:09.050 [main] INFO  nextflow.Nextflow - =========================================
Jun-07 16:49:09.112 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: awsbatch
Jun-07 16:49:09.113 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'awsbatch'
Jun-07 16:49:09.126 [main] DEBUG nextflow.executor.Executor - Initializing executor: awsbatch
Jun-07 16:49:09.129 [main] INFO  nextflow.executor.Executor - [warm up] executor > awsbatch
Jun-07 16:49:09.152 [main] DEBUG nextflow.util.ThrottlingExecutor - Creating throttling executor with opts: nextflow.util.ThrottlingExecutor$Options(poolName:AWSBatch-executor, limiter:RateLimiter[stableRate=50.0qps], poolSize:40, maxPoolSize:40, queueSize:5000, maxRetries:10, keepAlive:1m, autoThrottle:true, errorBurstDelay:1s, rampUpInterval:100, rampUpFactor:1.2, rampUpMaxRate:1.7976931348623157E308, backOffFactor:2.0, backOffMinRate:0.0166666667, retryDelay:1s)
Jun-07 16:49:09.170 [main] DEBUG nextflow.util.ThrottlingExecutor - Creating throttling executor with opts: nextflow.util.ThrottlingExecutor$Options(poolName:AWSBatch-reaper, limiter:RateLimiter[stableRate=50.0qps], poolSize:40, maxPoolSize:40, queueSize:5000, maxRetries:10, keepAlive:1m, autoThrottle:true, errorBurstDelay:1s, rampUpInterval:100, rampUpFactor:1.2, rampUpMaxRate:1.7976931348623157E308, backOffFactor:2.0, backOffMinRate:0.0166666667, retryDelay:1s)
Jun-07 16:49:09.171 [main] DEBUG n.cloud.aws.batch.AwsBatchExecutor - Creating parallel monitor for executor 'awsbatch' > pollInterval=10s; dumpInterval=5m
Jun-07 16:49:09.179 [main] DEBUG nextflow.processor.TaskDispatcher - Starting monitor: ParallelPollingMonitor
Jun-07 16:49:09.180 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: awsbatch)
Jun-07 16:49:09.183 [main] DEBUG nextflow.executor.Executor - Invoke register for executor: awsbatch
Jun-07 16:49:09.222 [main] DEBUG nextflow.Global - Using AWS credential defined in `default` section in file: /Users/olgabot/.aws/credentials
Jun-07 16:49:09.322 [main] DEBUG nextflow.Session - >>> barrier register (process: get_software_versions)
Jun-07 16:49:09.327 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > get_software_versions -- maxForks: 8
Jun-07 16:49:09.414 [main] DEBUG nextflow.util.CacheHelper - Config settings `withName:sourmash_compute_sketch` matches process sourmash_compute_sketch
Jun-07 16:49:09.417 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: awsbatch
Jun-07 16:49:09.417 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'awsbatch'
Jun-07 16:49:09.417 [main] DEBUG nextflow.executor.Executor - Initializing executor: awsbatch
Jun-07 16:49:09.425 [main] DEBUG nextflow.Session - >>> barrier register (process: sourmash_compute_sketch)
Jun-07 16:49:09.426 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [0, 1]
Jun-07 16:49:09.437 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > sourmash_compute_sketch -- maxForks: 8
Jun-07 16:49:09.471 [main] DEBUG nextflow.util.CacheHelper - Config settings `withName:sourmash_compare_sketches` matches process sourmash_compare_sketches
Jun-07 16:49:09.472 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: awsbatch
Jun-07 16:49:09.473 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'awsbatch'
Jun-07 16:49:09.473 [main] DEBUG nextflow.executor.Executor - Initializing executor: awsbatch
Jun-07 16:49:09.476 [main] DEBUG nextflow.Session - >>> barrier register (process: sourmash_compare_sketches)
Jun-07 16:49:09.477 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > sourmash_compare_sketches -- maxForks: 8
Jun-07 16:49:09.491 [main] DEBUG nextflow.Session - Session aborted -- Cause: Unknown variable 'fastqc_results'
Jun-07 16:49:09.532 [main] DEBUG nextflow.Session - The following nodes are still active:
[process] get_software_versions
  status=ACTIVE
  port 0: (cntrl) -     ; channel: $

[process] sourmash_compare_sketches
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

Jun-07 16:49:09.541 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: awsbatch)
Jun-07 16:49:09.550 [main] ERROR nextflow.cli.Launcher - @unknown
groovy.lang.MissingPropertyException: Unknown variable 'fastqc_results'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:80)
	at org.codehaus.groovy.reflection.CachedConstructor.doConstructorInvoke(CachedConstructor.java:74)
	at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrap.callConstructor(ConstructorSite.java:84)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:265)
	at nextflow.processor.ProcessConfig.getProperty(ProcessConfig.groovy:268)
	at org.codehaus.groovy.runtime.InvokerHelper.getProperty(InvokerHelper.java:190)
	at groovy.lang.Closure.getPropertyTryThese(Closure.java:313)
	at groovy.lang.Closure.getPropertyDelegateFirst(Closure.java:303)
	at groovy.lang.Closure.getProperty(Closure.java:288)
	at org.codehaus.groovy.runtime.callsite.PogoGetPropertySite.getProperty(PogoGetPropertySite.java:49)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGroovyObjectGetProperty(AbstractCallSite.java:309)
	at _nf_script_046fe536$_run_closure9.doCall(_nf_script_046fe536:388)
	at _nf_script_046fe536$_run_closure9.doCall(_nf_script_046fe536)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:101)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:263)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1041)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:37)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:52)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:119)
	at nextflow.processor.ProcessFactory.createProcessor(ProcessFactory.groovy:218)
	at nextflow.processor.ProcessFactory.createProcessor(ProcessFactory.groovy)
	at nextflow.processor.ProcessFactory$createProcessor.call(Unknown Source)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
	at nextflow.processor.ProcessFactory$createProcessor.call(Unknown Source)
	at nextflow.script.BaseScript.process(BaseScript.groovy:146)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:190)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:58)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:156)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:176)
	at _nf_script_046fe536.run(_nf_script_046fe536:383)
	at nextflow.script.ScriptRunner.run(ScriptRunner.groovy:382)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:170)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:245)
	at nextflow.cli.Launcher.run(Launcher.groovy:449)
	at nextflow.cli.Launcher.main(Launcher.groovy:626)
